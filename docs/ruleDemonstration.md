# Демонстрација правила 
#### (и образложење за правила која се не могу демонстрирати ван јединичних тестова)

## access/

CORS прекршај
- `cors.py`
- на фронту се не може лажирати порт

## auth/

Превише неуспелих пријава са исте адресе на исти налог
- спамуј лоше креденцијале (барем 5), у року од 1 минуте

Блокирање IP adrese sa превише неуспелих логинова
- није могуће приказати "на време"
- јер сваки неуспели логин мора бити између 1 минуте
- а потребно је стотину њих
- тако да мора преко јединичног тестирања

Превише блокираних адреса изазива аутентификациони напад
- из истог разлога као претходно правило
- мора преко јединичног тестирања
- [постоји `fake_auth_attack.py`]

Упозори ако се превише налога улогује са истом шифром
- довољна су два john налога, може преко веб апликације

Досађуј корисника ако му је лозинка слаба
- приказаће се у веб апликацији

Неуспела промена шифре ако је лозинка слаба
- треба променити лозинку једном кориснику на нешто друго
- а потом "вратити" на стару, слабу лозинку

Аларм за слабе лозинке:
- покренути `weak_password_alarm.py`

## common/

Добављање аларма
- отворити админову страницу за аларме

Деактивација аларма (happy flow)
- активирај аларм и покрени на админовом веб сервису

Деактивација аларма (аларм не постоји)
- није могуће покренути осим ако се не пошаље лош захтев

Брисање истеклих блокирања
- изазови блокирање због SQL инјекције
- чекај 30 (плус минус због крон џоба) минута да прође блок

Брисање истеклих блокирања када нема блокова
- деси се на сваких 5 минута (плус на почетку апликације)

Добављање свих блокираних IP адреса
- админова страница

Ручно уклањање блокиране адресе
- админова страница

Ручно уклањање блокиране адресе која није блокирана
- није могуће покренути осим ако се не пошаље лош захтев

Одбиј захтев када је адреса блокирана
- изазови блок (инјекција)
- покрени било који захтев

Много захтева па се деси Note
- спамуј бар 50 захтева у мање од 10 секунди

## compound/

Један критички напад
- тренутно нема таквих напада у систему

Два SuperHigh или изнад, различитог типа
- DOS i DDOS, али тешко је урадити са једне машине

Четири напада било које јачине различитог типа
- DOS преко скрипте (`dos.py`)
- Injection ручно
- Access control преко скрипте (`cors.py`)
- Auth напад преко лажне скрипте (`fake_auth_attack.py`)
- три типа напада је могуће извршити (DOS, injection, access control),
али auth није могуће извршити "благовремено"

## dos/ и templateRulesTwo

TCP Flood Attack
- `tcp_flood.py`
- тренутно не ради јер је DOS/DDOS template коригован ради демонстрације, ако се спусте бројке тих шаблона, радиће

DOS/DDOS
- `dos.py`

## injection/

Детектовање SQL инјекције
- пошаљи текст облика `'or 1=1;`

Превише SQL инјекција, блок адресе
- пошаљи текст описан изнад баре 5 пута у 30 минута 

## rbac/

Рола има пермисију
- покреће се уз сваки захтев

Pre-authorize 2
- покреће се уз сваки захтев